<script lang="ts" context="module">
	import ActionHeroSection from '$lib/components/challenge/action-hero-section.svelte';
	import { availableChallenges } from '$testData/challenges';
	export async function load({ params, fetch, session, stuff }) {
		let challenge = availableChallenges.find((challenge) => challenge.slug === params.slug);
		return {
			status: 200,
			props: {
				challenge
			}
		};
	}
</script>

<script lang="ts">
	import ShareToSocialMediaSection from '$lib/components/challenge/share-to-social-media-section.svelte';
	import InviteFriendForm from '$lib/components/forms/invite-friend-form.svelte';
	import type { ChallengeV2 } from '$lib/types/challenges';
	export let challenge: ChallengeV2;
</script>

<div class="flex flex-col pt-8">
	<ActionHeroSection {challenge} index={0}>
		<div slot="title">Freund:in einladen</div>
		<div slot="description">Zur zweit machtâ€™s mehr Spass!</div>
		<div slot="icon">
			<svg
				width="100"
				height="100"
				viewBox="0 0 80 61"
				fill="none"
				xmlns="http://www.w3.org/2000/svg"
			>
				<path
					d="M65.4545 37.7728C64.4242 37.7728 63.5612 37.4237 62.8655 36.7255C62.1673 36.0298 61.8182 35.1668 61.8182 34.1364V26.8637H54.5455C53.5152 26.8637 52.6521 26.5146 51.9564 25.8164C51.2582 25.1207 50.9091 24.2577 50.9091 23.2274C50.9091 22.1971 51.2582 21.3328 51.9564 20.6346C52.6521 19.9389 53.5152 19.591 54.5455 19.591H61.8182V12.3183C61.8182 11.288 62.1673 10.4237 62.8655 9.72554C63.5612 9.02979 64.4242 8.68191 65.4545 8.68191C66.4848 8.68191 67.3479 9.02979 68.0436 9.72554C68.7418 10.4237 69.0909 11.288 69.0909 12.3183V19.591H76.3636C77.3939 19.591 78.257 19.9389 78.9527 20.6346C79.6509 21.3328 80 22.1971 80 23.2274C80 24.2577 79.6509 25.1207 78.9527 25.8164C78.257 26.5146 77.3939 26.8637 76.3636 26.8637H69.0909V34.1364C69.0909 35.1668 68.7418 36.0298 68.0436 36.7255C67.3479 37.4237 66.4848 37.7728 65.4545 37.7728ZM29.0909 30.5001C25.0909 30.5001 21.6667 29.0758 18.8182 26.2274C15.9697 23.3789 14.5455 19.9546 14.5455 15.9546C14.5455 11.9546 15.9697 8.53039 18.8182 5.68191C21.6667 2.83342 25.0909 1.40918 29.0909 1.40918C33.0909 1.40918 36.5152 2.83342 39.3636 5.68191C42.2121 8.53039 43.6364 11.9546 43.6364 15.9546C43.6364 19.9546 42.2121 23.3789 39.3636 26.2274C36.5152 29.0758 33.0909 30.5001 29.0909 30.5001ZM3.63636 59.591C2.60606 59.591 1.74303 59.2419 1.04727 58.5437C0.349091 57.848 0 56.9849 0 55.9546V49.4092C0 47.3486 0.530909 45.454 1.59273 43.7255C2.65212 41.9995 4.06061 40.6819 5.81818 39.7728C9.57576 37.894 13.3939 36.4843 17.2727 35.5437C21.1515 34.6055 25.0909 34.1364 29.0909 34.1364C33.0909 34.1364 37.0303 34.6055 40.9091 35.5437C44.7879 36.4843 48.6061 37.894 52.3636 39.7728C54.1212 40.6819 55.5297 41.9995 56.5891 43.7255C57.6509 45.454 58.1818 47.3486 58.1818 49.4092V55.9546C58.1818 56.9849 57.8327 57.848 57.1345 58.5437C56.4388 59.2419 55.5758 59.591 54.5455 59.591H3.63636ZM7.27273 52.3183H50.9091V49.4092C50.9091 48.7425 50.743 48.1365 50.4109 47.591C50.0764 47.0455 49.6364 46.6213 49.0909 46.3183C45.8182 44.6819 42.5152 43.454 39.1818 42.6346C35.8485 41.8177 32.4848 41.4092 29.0909 41.4092C25.697 41.4092 22.3333 41.8177 19 42.6346C15.6667 43.454 12.3636 44.6819 9.09091 46.3183C8.54545 46.6213 8.10667 47.0455 7.77455 47.591C7.44 48.1365 7.27273 48.7425 7.27273 49.4092V52.3183ZM29.0909 23.2274C31.0909 23.2274 32.8036 22.5146 34.2291 21.0892C35.6521 19.6661 36.3636 17.9546 36.3636 15.9546C36.3636 13.9546 35.6521 12.2431 34.2291 10.8201C32.8036 9.39463 31.0909 8.68191 29.0909 8.68191C27.0909 8.68191 25.3794 9.39463 23.9564 10.8201C22.5309 12.2431 21.8182 13.9546 21.8182 15.9546C21.8182 17.9546 22.5309 19.6661 23.9564 21.0892C25.3794 22.5146 27.0909 23.2274 29.0909 23.2274Z"
					fill="black"
					fill-opacity="0.4"
				/>
			</svg>
		</div>
	</ActionHeroSection>

	<InviteFriendForm />
	<ShareToSocialMediaSection {challenge} index={0} last />
</div>
